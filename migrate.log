2023-06-28T09:09:26.828Z
cwd: ~/Documents/repos/fitnote-prototype
package: govuk-prototype-kit@13.9.0
argv: /usr/local/bin/node ~/Documents/repos/fitnote-prototype/node_modules/.bin/govuk-prototype-kit migrate
Started [Check migration is being applied to a pre v13 prototype]
Succeeded [Check migration is being applied to a pre v13 prototype]
2023-06-28T09:09:33.387Z
cwd: ~/Documents/repos/fitnote-prototype
package: govuk-prototype-kit@13.9.0
argv: /usr/local/bin/node ~/Documents/repos/fitnote-prototype/node_modules/.bin/govuk-prototype-kit migrate -- ~/Documents/repos/fitnote-prototype
Started [Migrate config.js to config.json]
Started [Update application SCSS file]
Started [Deleted files that are no longer needed]
Started [Deleted directories that are no longer needed]
Started [Delete listen-on-port.js]
Started [Delete server.js]
Started [Delete VERSION.txt]
Started [Delete start.js]
Started [Delete Procfile]
Started [Delete app/assets/sass/application-ie8.scss]
Started [Delete app/assets/sass/unbranded-ie8.scss]
Started [Remove unused directory docs]
Started [Remove unused directory lib]
Succeeded [Migrate config.js to config.json]
Succeeded [Delete server.js]
Succeeded [Delete app/assets/sass/unbranded-ie8.scss]
Succeeded [Delete Procfile]
Succeeded [Delete VERSION.txt]
Succeeded [Delete listen-on-port.js]
Succeeded [Delete app/assets/sass/application-ie8.scss]
Succeeded [Delete start.js]
Succeeded [Deleted files that are no longer needed]
Started [Overwrite app/views/layout.html]
Started [Overwrite app/filters.js]
Found [// Add your routes here - above the module.exports line] in [app/routes.js], replacing
Started [Overwrite app/assets/javascripts/application.js]
Found [// Add extra styles here, or re-organise the Sass files in whichever way makes most sense to you] in [app/assets/sass/application.scss], replacing
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/views/layouts/main.html] to [app/views/layout.html]
Started [Delete app/assets/images/separator-2x.png]
Started [Delete app/assets/images/unbranded.ico]
Started [Delete app/views/includes/breadcrumb_examples.html]
Started [Delete app/assets/sass/unbranded.scss]
Started [Delete app/views/includes/scripts.html]
Started [Delete app/views/includes/head.html]
Started [Delete app/assets/images/separator.png]
Started [Delete app/views/includes/cookie-banner.html]
Started [Delete app/assets/javascripts/auto-store-data.js]
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/filters.js] to [app/filters.js]
Started [Delete app/views/layout_unbranded.html]
Started [Delete app/assets/sass/patterns/_mainstream-guide.scss]
Started [Delete app/assets/sass/patterns/_contents-list.scss]
Started [Delete app/assets/javascripts/jquery-1.11.3.js]
Started [Delete app/assets/sass/patterns/_related-items.scss]
Started [Delete app/assets/sass/patterns/_pagination.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-header.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Keeping these lines from old file
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/assets/javascripts/application.js] to [app/assets/javascripts/application.js]
Started [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Started [Delete app/assets/sass/patterns/_task-list.scss]
Keeping these lines from old file
Failed [Delete app/views/includes/head.html]
Failed [Delete app/views/includes/cookie-banner.html]
Succeeded [Delete app/assets/images/separator-2x.png]
Succeeded [Delete app/views/includes/breadcrumb_examples.html]
Succeeded [Delete app/assets/images/unbranded.ico]
Succeeded [Delete app/assets/javascripts/auto-store-data.js]
Succeeded [Delete app/assets/sass/unbranded.scss]
Succeeded [Delete app/assets/images/separator.png]
Succeeded [Delete app/views/includes/scripts.html]
Succeeded [Delete app/views/layout_unbranded.html]
Succeeded [Delete app/assets/sass/patterns/_mainstream-guide.scss]
Succeeded [Delete app/assets/javascripts/jquery-1.11.3.js]
Succeeded [Delete app/assets/sass/patterns/_contents-list.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Succeeded [Delete app/assets/sass/patterns/_pagination.scss]
Succeeded [Delete app/assets/sass/patterns/_related-items.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Succeeded [Delete app/assets/sass/patterns/_task-list.scss]
Succeeded [Update application SCSS file]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-header.scss]
//,// For guidance on how to create routes see:,// https://prototype-kit.service.gov.uk/docs/create-routes,//,,const govukPrototypeKit = require('govuk-prototype-kit'),const router = govukPrototypeKit.requests.setupRouter(),,// Add your routes here,,router.route('/v7a-three-options-select'),  .post((req, res, next) => {,    let redirectUrl,    switch (req.body['obtained-fit-note']) {,      case 'paper':,        redirectUrl = 'v7a-upload-paper',        break,      case 'sms':,        redirectUrl = 'v7a-upload-sms',        break,      case 'email':,        redirectUrl = 'v7a-upload-email',        break,      default:,        redirectUrl = req.path,        break,    },    res.redirect(redirectUrl),  }),,router.route('/v7a-additional-do-you-have-a-fit-note'),  .post((req, res, next) => {,    let redirectUrl,    // console.table(req.body),    switch (req.body['do-you-have-a-fit-note-v7a']) {,      case 'yes':,        redirectUrl = 'v7a-three-options',        break,      case 'no':,        redirectUrl = 'v7a-no-fit-note',        break,      default:,        redirectUrl = req.path,        break,    },    res.redirect(redirectUrl),  }),,router.route('/v7b-additional-do-you-have-a-fit-note'),   .post((req, res, next) => {,     let redirectUrl,     // console.table(req.body),     switch (req.body['do-you-have-a-fit-note-v7b']) {,       case 'yes':,         redirectUrl = 'v7b-upload-accordion',         break,       case 'no':,         redirectUrl = 'v7b-no-fit-note',         break,       default:,         redirectUrl = req.path,         break,     },     res.redirect(redirectUrl),   }),,   router.route('dev3/dev-do-you-have-a-fit-note'),      .post((req, res, next) => {,        let redirectUrl,        // console.table(req.body),        switch (req.body['dev-do-you-have-a-fit-note']) {,          case 'yes':,            redirectUrl = 'dev3/dev-two-options',            break,          case 'no':,            redirectUrl = 'dev3/dev-no-fit-note',            break,          default:,            redirectUrl = req.path,            break,        },        res.redirect(redirectUrl),      }),,      router.route('dev3/dev-two-options'),        .post((req, res, next) => {,          let redirectUrl,          switch (req.body['dev-obtained-fit-note']) {,            case 'paper':,              redirectUrl = 'dev3/dev-guidance-paper',              break,            case 'digital':,              redirectUrl = 'dev3/dev-guidance-digital',              break,          },          res.redirect(redirectUrl),        }),,           router.route('/welsh-dev-do-you-have-a-fit-note'),              .post((req, res, next) => {,                let redirectUrl,                // console.table(req.body),                switch (req.body['welsh-dev-do-you-have-a-fit-note']) {,                  case 'ydy':,                    redirectUrl = 'welsh-dev-two-options',                    break,                  case 'na':,                    redirectUrl = 'welsh-dev-no-fit-note',                    break,                  default:,                    redirectUrl = req.path,                    break,                },                res.redirect(redirectUrl),              }),,,                    router.route('/welsh-dev-two-options'),                      .post((req, res, next) => {,                        let redirectUrl,                        switch (req.body['welsh-dev-obtained-fit-note']) {,                          case 'paper':,                            redirectUrl = 'welsh-dev-guidance-paper',                            break,                          case 'digital':,                            redirectUrl = 'welsh-dev-guidance-digital',                            break,                          case 'email':,                            redirectUrl = 'welsh-dev-upload-email',                            break,                          default:,                            redirectUrl = req.path,                            break,                        },                        res.redirect(redirectUrl),                      }),,,                    router.route('/v8-three-options-select'),                      .post((req, res, next) => {,                        let redirectUrl,                        switch (req.body['v8-obtained-fit-note']) {,                          case 'paper':,                            redirectUrl = 'v8-upload-paper',                            break,                          case 'sms':,                            redirectUrl = 'v8-upload-sms',                            break,                          case 'email':,                            redirectUrl = 'v8-upload-email',                            break,                          default:,                            redirectUrl = req.path,                            break,                        },                        res.redirect(redirectUrl),                      }),,,           router.route('/v8-do-you-have-a-fit-note'),              .post((req, res, next) => {,                let redirectUrl,                // console.table(req.body),                switch (req.body['v8-do-you-have-a-fit-note']) {,                  case 'yes':,                    redirectUrl = 'v8-three-options',                    break,                  case 'no':,                    redirectUrl = 'v8-no-fit-note',                    break,                  default:,                    redirectUrl = req.path,                    break,                },                res.redirect(redirectUrl),              }),,                 router.route('/v9-do-you-have-a-fit-note'),                    .post((req, res, next) => {,                      let redirectUrl,                      // console.table(req.body),                      switch (req.body['v9-do-you-have-a-fit-note']) {,                        case 'yes':,                          redirectUrl = 'v9-three-options',                          break,                        case 'no':,                          redirectUrl = 'v9-no-fit-note',                          break,                        default:,                          redirectUrl = req.path,                          break,                      },                      res.redirect(redirectUrl),                    }),,                    router.route('/v9-three-options-select'),                      .post((req, res, next) => {,                        let redirectUrl,                        switch (req.body['v9-obtained-fit-note']) {,                          case 'paper':,                            redirectUrl = 'v9-upload-paper',                            break,                          case 'sms':,                            redirectUrl = 'v9-upload-sms',                            break,                          case 'email':,                            redirectUrl = 'v9-upload-email',                            break,                          default:,                            redirectUrl = req.path,                            break,                        },                        res.redirect(redirectUrl),                      }),,,,                                       router.route('/v10-do-you-have-a-fit-note'),                                          .post((req, res, next) => {,                                            let redirectUrl,                                            // console.table(req.body),                                            switch (req.body['v10-do-you-have-a-fit-note']) {,                                              case 'yes':,                                                redirectUrl = 'v10-three-options',                                                break,                                              case 'no':,                                                redirectUrl = 'v10-no-fit-note',                                                break,                                              default:,                                                redirectUrl = req.path,                                                break,                                            },                                            res.redirect(redirectUrl),                                          }),,                                          router.route('/v10-three-options-select'),                                            .post((req, res, next) => {,                                              let redirectUrl,                                              switch (req.body['v10-obtained-fit-note']) {,                                                case 'paper':,                                                  redirectUrl = 'v10-upload-paper',                                                  break,                                                case 'sms':,                                                  redirectUrl = 'v10-upload-sms',                                                  break,                                                case 'email':,                                                  redirectUrl = 'v10-upload-email',                                                  break,                                                default:,                                                  redirectUrl = req.path,                                                  break,                                              },                                              res.redirect(redirectUrl),                                            }),,,                                          router.route('/v11-do-you-have-a-fit-note'),                                             .post((req, res, next) => {,                                               let redirectUrl,                                               // console.table(req.body),                                               switch (req.body['v11-do-you-have-a-fit-note']) {,                                                 case 'yes':,                                                   redirectUrl = 'v11-does-your-fit-note-have-a-signature',                                                   break,                                                 case 'no':,                                                   redirectUrl = 'v11-no-fit-note',                                                   break,                                                 default:,                                                   redirectUrl = req.path,                                                   break,                                               },                                               res.redirect(redirectUrl),                                             }),,,                                                router.route('/v11-does-your-fit-note-have-a-signature'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v11-does-your-fit-note-have-a-signature']) {,                                                       case 'yes':,                                                         redirectUrl = 'v11-three-options',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v11-no-signature',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,                                                router.route('/v11-fit-note-template'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v11-fit-note-template']) {,                                                       case 'yes':,                                                         redirectUrl = 'v11-upload-paper-1',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v11-wrong-template',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,,                                             router.route('/v11-three-options-select'),                                               .post((req, res, next) => {,                                                 let redirectUrl,                                                 switch (req.body['v11-obtained-fit-note']) {,                                                   case 'paper':,                                                     redirectUrl = 'v11-fit-note-template',                                                     break,                                                   case 'sms':,                                                     redirectUrl = 'v11-upload-sms-1',                                                     break,                                                   case 'email':,                                                     redirectUrl = 'v11-upload-email-1',                                                     break,                                                   default:,                                                     redirectUrl = req.path,                                                     break,                                                 },                                                 res.redirect(redirectUrl),                                               }),,,                                                router.route('/v12-do-you-have-a-fit-note'),                                             .post((req, res, next) => {,                                               let redirectUrl,                                               // console.table(req.body),                                               switch (req.body['v12-do-you-have-a-fit-note']) {,                                                 case 'yes':,                                                   redirectUrl = 'v12-does-your-fit-note-have-a-signature',                                                   break,                                                 case 'no':,                                                   redirectUrl = 'v12-no-fit-note',                                                   break,                                                 default:,                                                   redirectUrl = req.path,                                                   break,                                               },                                               res.redirect(redirectUrl),                                             }),,,                                                router.route('/v12-does-your-fit-note-have-a-signature'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v12-does-your-fit-note-have-a-signature']) {,                                                       case 'yes':,                                                         redirectUrl = 'v12-three-options',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v12-no-signature',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,                                                router.route('/v12-fit-note-template'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v12-fit-note-template']) {,                                                       case 'yes':,                                                         redirectUrl = 'v12-upload-paper-1',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v12-wrong-template',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,,                                             router.route('/v12-three-options-select'),                                               .post((req, res, next) => {,                                                 let redirectUrl,                                                 switch (req.body['v12-obtained-fit-note']) {,                                                   case 'paper':,                                                     redirectUrl = 'v12-fit-note-template',                                                     break,                                                   case 'sms':,                                                     redirectUrl = 'v12-upload-sms-1',                                                     break,                                                   case 'email':,                                                     redirectUrl = 'v12-upload-email-1',                                                     break,                                                   default:,                                                     redirectUrl = req.path,                                                     break,                                                 },                                                 res.redirect(redirectUrl),                                               }),,,,                                                router.route('/v13a-do-you-have-a-fit-note'),                                             .post((req, res, next) => {,                                               let redirectUrl,                                               // console.table(req.body),                                               switch (req.body['v13a-do-you-have-a-fit-note']) {,                                                 case 'yes':,                                                   redirectUrl = 'v13a-does-your-fit-note-have-a-signature',                                                   break,                                                 case 'no':,                                                   redirectUrl = 'v13a-no-fit-note',                                                   break,                                                 default:,                                                   redirectUrl = req.path,                                                   break,                                               },                                               res.redirect(redirectUrl),                                             }),,,                                                router.route('/v13a-does-your-fit-note-have-a-signature'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v13a-does-your-fit-note-have-a-signature']) {,                                                       case 'yes':,                                                         redirectUrl = 'v13a-three-options',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v13a-no-signature',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,                                                router.route('/v13a-fit-note-template'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v13a-fit-note-template']) {,                                                       case 'yes':,                                                         redirectUrl = 'v13a-upload-paper-1',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v13a-wrong-template',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,,                                             router.route('/v13a-three-options-select'),                                               .post((req, res, next) => {,                                                 let redirectUrl,                                                 switch (req.body['v13a-obtained-fit-note']) {,                                                   case 'paper':,                                                     redirectUrl = 'v13a-upload-paper',                                                     break,                                                   case 'sms':,                                                     redirectUrl = 'v13a-upload-sms',                                                     break,                                                   case 'email':,                                                     redirectUrl = 'v13a-upload-email',                                                     break,                                                   default:,                                                     redirectUrl = req.path,                                                     break,                                                 },                                                 res.redirect(redirectUrl),                                               }),,,                                                router.route('/v13b-do-you-have-a-fit-note'),                                             .post((req, res, next) => {,                                               let redirectUrl,                                               // console.table(req.body),                                               switch (req.body['v13b-do-you-have-a-fit-note']) {,                                                 case 'yes':,                                                   redirectUrl = 'v13b-does-your-fit-note-have-a-signature',                                                   break,                                                 case 'no':,                                                   redirectUrl = 'v13b-no-fit-note',                                                   break,                                                 default:,                                                   redirectUrl = req.path,                                                   break,                                               },                                               res.redirect(redirectUrl),                                             }),,,                                                router.route('/v13b-does-your-fit-note-have-a-signature'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v13b-does-your-fit-note-have-a-signature']) {,                                                       case 'yes':,                                                         redirectUrl = 'v13b-three-options',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v13b-no-signature',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,                                                router.route('/v13b-fit-note-template'),                                                   .post((req, res, next) => {,                                                     let redirectUrl,                                                     // console.table(req.body),                                                     switch (req.body['v13b-fit-note-template']) {,                                                       case 'yes':,                                                         redirectUrl = 'v13b-upload-paper',                                                         break,                                                       case 'no':,                                                         redirectUrl = 'v13b-wrong-template',                                                         break,                                                       default:,                                                         redirectUrl = req.path,                                                         break,                                                     },                                                     res.redirect(redirectUrl),                                                   }),,,,                                             router.route('/v13b-three-options-select'),                                               .post((req, res, next) => {,                                                 let redirectUrl,                                                 switch (req.body['v13b-obtained-fit-note']) {,                                                   case 'paper':,                                                     redirectUrl = 'v13b-upload-paper',                                                     break,                                                   case 'sms':,                                                     redirectUrl = 'v13b-upload-sms',                                                     break,                                                   case 'email':,                                                     redirectUrl = 'v13b-upload-email',                                                     break,                                                   default:,                                                     redirectUrl = req.path,                                                     break,                                                 },                                                 res.redirect(redirectUrl),                                               }),,,                                            router.route('/v15-do-you-have-a-fit-note'),                                             .post((req, res, next) => {,                                               let redirectUrl,                                               // console.table(req.body),                                               switch (req.body['v15-do-you-have-a-fit-note']) {,                                                 case 'yes':,                                                   redirectUrl = 'v15-two-options',                                                   break,                                                 case 'no':,                                                   redirectUrl = 'v15-no-fit-note',                                                   break,                                                 default:,                                                   redirectUrl = req.path,                                                   break,                                               },                                               res.redirect(redirectUrl),                                             }),,                                             router.route('/v15-two-options'),                                               .post((req, res, next) => {,                                                 let redirectUrl,                                                 switch (req.body['v15-obtained-fit-note']) {,                                                   case 'paper':,                                                     redirectUrl = 'v15-upload-paper-version-1',                                                     break,                                                   case 'digital':,                                                     redirectUrl = 'v15-upload-digital-version-1',                                                     break,                                                   default:,                                                     redirectUrl = req.path,                                                     break,                                                 },                                                 res.redirect(redirectUrl),                                               }),,                                               router.route('/v16-have-you-applied-for-esa'),                                             .post((req, res, next) => {,                                               let redirectUrl,                                               // console.table(req.body),                                               switch (req.body['v16-have-you-applied-for-esa']) {,                                                 case 'yes':,                                                   redirectUrl = 'v16-two-options',                                                   break,                                                 case 'no':,                                                   redirectUrl = 'v16-no-esa',                                                   break,                                                 default:,                                                   redirectUrl = req.path,                                                   break,                                               },                                               res.redirect(redirectUrl),                                             }),,                                             router.route('/dev3/dev-two-options'),  .post((req, res, next) => {,    let redirectUrl;,    switch (req.body['dev-obtained-fit-note']) {,      case 'digital':,        redirectUrl = '/dev3/dev-guidance-digital';,        break;,      case 'paper':,        redirectUrl = '/dev3/dev-guidance-paper';,        break;,      default:,        redirectUrl = req.path;,        break;,    },    res.redirect(redirectUrl);,  });,,                                               ,                                               router.route('/dev3/dev-have-you-applied-for-esa'),                                               .post((req, res, next) => {,                                                 let redirectUrl,                                                 // console.table(req.body),                                                 switch (req.body['dev-have-you-applied-for-esa']) {,                                                   case 'yes':,                                                     redirectUrl = '/dev3/dev-two-options';,                                                     break;,                                                   case 'no':,                                                     redirectUrl = '/dev3/dev-no-esa';,                                                     break;,                                                   default:,                                                     redirectUrl = req.path;,                                                     break;,                                                 },                                                 res.redirect(redirectUrl),                                               }),,,module.exports = router,
Found [module.exports = router;,module.exports = router] in [app/routes.js], removing
Succeeded [Remove unused directory lib]
Succeeded [Update routes file]
Succeeded [Remove unused directory docs]
Succeeded [Deleted directories that are no longer needed]
Succeeded [Overwrite app/filters.js]
Succeeded [Overwrite app/views/layout.html]
Succeeded [Overwrite app/assets/javascripts/application.js]
Started [Remove old pattern includes from application SCSS file]
Succeeded [Remove old pattern includes from application SCSS file]
Started [Remove empty directory app/assets/sass/patterns]
Started [Remove empty directory app/assets/images]
Started [Remove empty directory app/views/includes]
Skipped deleting app/views/includes
Skipped deleting app/assets/images
Succeeded [Remove empty directory app/assets/sass/patterns]
